import { gql } from "apollo-server-express";

export default gql`
  extend type Query {
    {{GqlQueryEntity}}(id: String!): {{Entity}}

    {{GqlQueryAllEntity}}(
      page: Int
      perPage: Int
      sortField: String
      sortOrder: String
      filter: {{GqlInputEntityFilter}}
    ): [{{Entity}}]

    {{GqlQueryAllEntityMeta}}(
      page: Int
      perPage: Int
      sortField: String
      sortOrder: String
      filter: {{GqlInputEntityFilter}}
    ): {{GqlTypeEntityMatadata}}
  }

  extend type Mutation {
    {{GqlCreateEntity}}(title: String!): {{Entity}}
    {{GqlUpdateEntity}}(id: ID, title: String): {{Entity}}
    {{GqlDeleteEntity}}(id: String!): Boolean
  }

  type {{Entity}} {
    id: ID
    title: String!
    createdAt: String!
    updatedAt: String!
  }

  input {{GqlInputEntityFilter}} {
    q: String
    id: ID
    title: String
  }

  type {{GqlTypeEntityMatadata}} {
    count: Int
  }
`;
